<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Booking appointment App</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <header>
      <h1>Booking appointment App</h1>
    </header>

    <div class="container">
      <form id="my-form" onsubmit="saveToLocalStorage(event)">
        <h2>Add User</h2>
        <div class="msg"></div>
        <div>
          <label for="name">Name:</label>
          <input type="text"  name="username" required>
        </div>
        <div>
            <label for="phone">Phone:</label>
            <input type="text"  name="phone" required>
        </div>
        <div>
            <label for="date">Date:</label>
            <input type="date"  name="date" required>
        </div>
        <input class="btn" type="submit" value="Submit" required>
      </form>

    </div>
    <script src="main.js"></script>
    <script>
        function saveToLocalStorage(event){
            event.preventDefault();
            const name = event.target.username.value;
            const phone = event.target.phone.value;
            const date = event.target.date.value;
            
            // localStorage.setItem('name',name);
            // localStorage.setItem('phone',phone);
            // localStorage.setItem('date',date);
            
            let myobj = {
              UserName :  name,
              Phone : phone,
              Date :  date 
            };
            let userDetails = localStorage.getItem("UserDetails");
            let userArray = [];

            if (userDetails !== null) {
              userArray = JSON.parse(userDetails);
            }
            userArray.push(myobj);

            let userArray_serialize = JSON.stringify(userArray);
            localStorage.setItem("UserDetails",userArray_serialize);

        }
    </script>
  </body>
</html>
